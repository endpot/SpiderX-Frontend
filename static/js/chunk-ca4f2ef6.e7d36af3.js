(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ca4f2ef6"],{1839:function(t,e,a){},4381:function(t,e,a){"use strict";a("6762"),a("2fdb");var s=a("4360"),n={inserted:function(t,e,a){var n=e.value,i=s["a"].getters&&s["a"].getters.roles;if(!(n&&n instanceof Array&&n.length>0))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");var r=n,o=i.some((function(t){return r.includes(t)}));o||t.parentNode&&t.parentNode.removeChild(t)}},i=function(t){t.directive("permission",n)};window.Vue&&(window["permission"]=n,Vue.use(i)),n.install=i;e["a"]=n},"4e49":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var s=a("b775");function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Object(s["a"])({url:"/announcements",method:"get",params:{per_page:t,page:e}})}},6844:function(t,e,a){"use strict";var s=a("1839"),n=a.n(s);n.a},"7abe":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"home-announce"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Announcement")]),t._v(" "),a("span",{staticStyle:{float:"right",padding:"3px 0"}},[a("router-link",{staticClass:"link-type",attrs:{to:"/announce/create"}},[a("i",{staticClass:"el-icon-document-add"})]),t._v(" "),a("router-link",{staticClass:"link-type",attrs:{to:"/announce/list"}},[a("i",{staticClass:"el-icon-s-grid"})])],1)]),t._v(" "),a("el-collapse",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.announceList,(function(e,s){return a("div",{key:s,staticClass:"items"},[a("el-collapse-item",{attrs:{name:e.announce_id}},[a("template",{slot:"title"},[t._v("\n              "+t._s(e.announce_title)+"\n              "),a("div",{staticClass:"item-title-right"},[a("div",{staticClass:"item-title-options"},[a("span",[a("router-link",{staticClass:"link-type",attrs:{to:"/announce/edit/"+e.announce_id}},[t._v("\n                      Edit\n                    ")]),t._v(" "),a("span",{staticClass:"link-type",on:{click:function(a){return t.deleteAnnounceItem(e)}}},[t._v("Delete")])],1),t._v(" "),a("span",{staticClass:"item-title-time hidden-xs-only"},[t._v(" "+t._s(e.announce_time)+" ")])])])]),t._v(" "),a("div",{staticClass:"items-text"},[t._v(t._s(e.announce_text))]),t._v(" "),a("div",{staticClass:"items-footer"},[a("div",{staticClass:"items-footer-note"},[t._v(t._s(e.announce_footer_note))])])],2)],1)})),0)],1),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("热门")])])]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("推荐")])])]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("聊天区")]),t._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[t._v("操作")])],1)]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("投票")]),t._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[t._v("操作")])],1)]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("竞价置顶")]),t._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[t._v("操作")])],1)]),t._v(" "),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("Links")]),t._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[t._v("操作")])],1),t._v(" "),a("div",{staticClass:"links-text link-type"},[a("span",[a("a",{attrs:{href:"https://ajycc20.xyz",target:"_blank"}},[t._v("ajycc20's Blog")])])])])],1),t._v(" "),a("div",{staticClass:"home-text"},[t._v("name:"+t._s(t.name))]),t._v(" "),a("div",{staticClass:"home-text"},[t._v("roles:"),t._l(t.roles,(function(e){return a("span",{key:e},[t._v(t._s(e))])}))],2)])},n=[],i=a("db72"),r=a("2f62"),o=a("4e49"),c=a("4381"),l={name:"Home",directives:{permission:c["a"]},data:function(){return{activeName:"",announcementList:[]}},computed:Object(i["a"])({},Object(r["b"])(["name","roles"])),mounted:function(){},methods:{fetchAnnouncementList:function(){var t=this;Object(o["a"])().then((function(e){t.announcementList=e.data.reverse().slice(0,4)})).catch((function(t){console.log(t)}))},deleteAnnounceItem:function(t){alert("Sure to delete this item?");for(var e=0;e<this.announceList.length;e++)this.announceList[e].announce_id===t.announce_id&&this.announceList.splice(e,1)}}},d=l,v=(a("6844"),a("2877")),u=Object(v["a"])(d,s,n,!1,null,"051110ec",null);e["default"]=u.exports}}]);